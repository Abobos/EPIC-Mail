{"version":3,"sources":["../../../src/Server/test/messages.test.js"],"names":["chai","use","chaiHttp","should","done","request","app","post","send","subject","message","user","end","req","res","have","status","be","an","body","property","eql","data","get","delete"],"mappings":"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","sourcesContent":["\r\nimport { describe, it } from 'mocha';\r\nimport chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../../app';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\n// Send Messages\r\ndescribe('POST /messages', () => {\r\n  it('should return a status of 200 when message is sent', (done) => {\r\n    chai\r\n      .request(app)\r\n      .post('/api/v1/messages')\r\n      .send({\r\n        subject: 'Andela',\r\n        message: 'We provide opportunity',\r\n        user: 'blue',\r\n      })\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        res.body.data[0].should.have.property('id');\r\n        res.body.data[0].should.have.property('createdOn');\r\n        res.body.data[0].should.have.property('subject');\r\n        res.body.data[0].should.have.property('message');\r\n        res.body.data[0].should.have.property('parentMessageId');\r\n        res.body.data[0].should.have.property('status');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should return a status of 400 when subject is not found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .post('/api/v1/messages')\r\n      .send({\r\n        message: 'we provide opportunity',\r\n        user: 'blue',\r\n      })\r\n      .end((req, res) => {\r\n        res.should.have.status(400);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(400);\r\n        res.body.should.have.property('error').eql('subject is required');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should return a status of 400 when message is not found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .post('/api/v1/messages')\r\n      .send({\r\n        subject: 'Creative Discourse',\r\n        user: 'blue',\r\n      })\r\n      .end((req, res) => {\r\n        res.should.have.status(400);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(400);\r\n        res.body.should.have.property('error').eql('message is required');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should return a status of 400 when sender found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .post('/api/v1/messages')\r\n      .send({\r\n        message: 'Blessing is Creative',\r\n        subject: 'Creative Discourse',\r\n      })\r\n      .end((req, res) => {\r\n        res.should.have.status(400);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(400);\r\n        res.body.should.have.property('error').eql('user is required');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n// Received Messages\r\ndescribe('GET /messages', () => {\r\n  it('should return a status of 200 and show all received messages', (done) => {\r\n    chai\r\n      .request(app)\r\n      .get('/api/v1/messages')\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n\r\n// Unread Received Messages\r\ndescribe('GET /messages/unread', () => {\r\n  it('should return a status of 200 and show all received messages', (done) => {\r\n    chai\r\n      .request(app)\r\n      .get('/api/v1/messages/unread')\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n// Sent Received Messages\r\ndescribe('GET /messages/sent', () => {\r\n  it('should return a status of 200 and show all sent messages', (done) => {\r\n    chai\r\n      .request(app)\r\n      .get('/api/v1/messages/sent')\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n// Specific Email Record\r\ndescribe('GET /messages/<message-id>', () => {\r\n  it('should return a status of 200 when message with the given id is found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .get('/api/v1/messages/1')\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        res.body.data[0].should.have.property('id');\r\n        res.body.data[0].should.have.property('createdOn');\r\n        res.body.data[0].should.have.property('subject');\r\n        res.body.data[0].should.have.property('message');\r\n        res.body.data[0].should.have.property('parentMessageId');\r\n        res.body.data[0].should.have.property('status');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should return a status of 404 when message with the given Id is not found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .get('/api/v1/messages/9')\r\n      .end((req, res) => {\r\n        res.should.have.status(404);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(404);\r\n        res.body.should.have.property('error').eql('The message with the given id was not found');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n\r\ndescribe('DELETE /messages/<message-id>', () => {\r\n  it('should return a status of 200 when message with the given id is found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .delete('/api/v1/messages/1')\r\n      .end((req, res) => {\r\n        res.should.have.status(200);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(200);\r\n        res.body.should.have.property('data');\r\n        res.body.data.should.have.an('array');\r\n        res.body.data[0].should.have.property('message');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should return a status of 404 when message with the given Id is not found', (done) => {\r\n    chai\r\n      .request(app)\r\n      .delete('/api/v1/messages/9')\r\n      .end((req, res) => {\r\n        res.should.have.status(404);\r\n        res.should.be.an('object');\r\n        res.body.should.have.property('status').eql(404);\r\n        res.body.should.have.property('error').eql('The message with the given id was not found');\r\n        done();\r\n      });\r\n  });\r\n});\r\n"],"file":"messages.test.js"}